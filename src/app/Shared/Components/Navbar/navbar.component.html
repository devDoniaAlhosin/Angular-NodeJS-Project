<!-- Navbar -->
<section class="main-container">
  <nav id="navbar" class="navbar navbar-expand-lg sticky-top">
    <div class="container-fluid p-3 gap-3">
      <img
        src="images/logo-dark.png"
        class="img--logo"
        (click)="navigateBasedOnRole()"
        alt="Logo"
      />

      <div
        class="offcanvas offcanvas-end"
        tabindex="-1"
        id="offcanvasNavbar"
        aria-labelledby="offcanvasNavbarLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
            <img src="images/logo-dark.png" alt="Logo" />
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">
          <ul class="navbar-nav d-flex flex-grow-1">
            <!-- Show Admin Panel if User has Admin Role -->
            <ng-container *ngIf="isAdmin(); else showUserLinks">
              <li class="nav-item" [routerLinkActive]="'active'">
                <a class="nav-link" aria-current="page" routerLink="/admin">
                  Admin Panel
                </a>
              </li>
              <div class="right--user d-flex">
                <li class="nav-item d-flex align-items-center sec---user">
                  <fa-icon [icon]="faUser" class="me-2 fs-5"></fa-icon>
                  <span>{{ username }}</span>
                </li>
                <li class="nav-item d-flex align-items-center sec2---user">
                  <a class="" (click)="logout()">
                    <fa-icon
                      [icon]="faRightFromBracket"
                      class="me-2 fs-4"
                    ></fa-icon>
                  </a>
                </li>
              </div>
            </ng-container>

            <!-- Show User Links if Not Admin -->
            <ng-template #showUserLinks>
              <ng-container *ngIf="isLoggedIn(); else showLoginRegister">
                <li class="nav-item" [routerLinkActive]="'active'">
                  <a class="nav-link" aria-current="page" routerLink="/home">
                    Home
                  </a>
                </li>
                <li class="nav-item" [routerLinkActive]="'active'">
                  <a
                    class="nav-link"
                    aria-current="page"
                    routerLink="/categories"
                  >
                    Categories
                  </a>
                </li>
                <li class="nav-item" [routerLinkActive]="'active'">
                  <a class="nav-link" aria-current="page" routerLink="/books">
                    Books
                  </a>
                </li>
                <li class="nav-item" [routerLinkActive]="'active'">
                  <a class="nav-link" aria-current="page" routerLink="/authors">
                    Authors
                  </a>
                </li>

                <!-- Search Container -->
                <div class="search-container px-2">
                  <form class="d-flex" role="search">
                    <input
                      class="form-control me-2"
                      type="search"
                      placeholder="Search"
                      aria-label="Search"
                    />
                    <button class="search--btn" type="submit">Search</button>
                  </form>
                </div>

                <div class="right--user d-flex">
                  <li class="nav-item d-flex align-items-center sec---user">
                    <fa-icon [icon]="faUser" class="me-2 fs-5"></fa-icon>
                    <span>{{ username }}</span>
                  </li>
                  <li class="nav-item d-flex align-items-center sec2---user">
                    <a class="" (click)="logout()">
                      <fa-icon
                        [icon]="faRightFromBracket"
                        class="me-2 fs-4"
                      ></fa-icon>
                    </a>
                  </li>
                </div>
              </ng-container>
            </ng-template>

            <!-- Login and Register -->
            <ng-template #showLoginRegister>
              <li class="nav-item" [routerLinkActive]="'active'">
                <a class="nav-link" aria-current="page" routerLink="/login">
                  Login
                </a>
              </li>
              <li class="nav-item" [routerLinkActive]="'active'">
                <a class="nav-link" aria-current="page" routerLink="/register">
                  Register
                </a>
              </li>
            </ng-template>
          </ul>
        </div>
      </div>

      <button
        class="navbar-toggler pe-0"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasNavbar"
        aria-controls="offcanvasNavbar"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</section>
